{"version":3,"sources":["pages/auth/Register.js"],"names":["Register","_useState","useState","_useState2","Object","C_Users_dharv_OneDrive_Desktop_mernconnection_EcommProject_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","email","setEmail","navigate","useNavigate","user","useSelector","state","C_Users_dharv_OneDrive_Desktop_mernconnection_EcommProject_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","useEffect","token","sumbmitHandler","_ref","C_Users_dharv_OneDrive_Desktop_mernconnection_EcommProject_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","_regeneratorRuntime","mark","_callee","e","config","wrap","_context","prev","next","preventDefault","url","handleCodeInApp","auth","sendSignInLinkToEmail","toast","success","concat","window","localStorage","setItem","stop","_x","apply","this","arguments","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","className","react_toastify__WEBPACK_IMPORTED_MODULE_7__","onSubmit","type","value","onChange","target","autoFocus"],"mappings":"s8MAiEeA,UA1Df,WAAoB,IAAAC,EACQC,mBAAS,IADjBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACXK,EADWH,EAAA,GACJI,EADIJ,EAAA,GAEZK,EAAWC,cACTC,EAASC,YAAY,SAACC,GAAD,OAAAR,OAAAS,EAAA,EAAAT,CAAA,GAAiBQ,KAAtCF,KAERI,oBAAU,WACLJ,GAAQA,EAAKK,OAAOP,EAAS,MAC/B,CAACE,EAAMF,IAEV,IAAMQ,EAAc,eAAAC,EAAAb,OAAAc,EAAA,EAAAd,CAAAe,IAAAC,KAAG,SAAAC,EAAOC,GAAP,IAAAC,EAAA,OAAAJ,IAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACrBL,EAAEM,iBAEIL,EAAS,CACbM,IAAK,0CACLC,iBAAiB,GALEL,EAAAE,KAAA,EAQfI,IAAKC,sBAAsB1B,EAAOiB,GARnB,OASrBU,IAAMC,QAAN,oBAAAC,OACsB7B,EADtB,yDAIA8B,OAAOC,aAAaC,QAAQ,uBAAwBhC,GAEpDC,EAAS,IAfY,wBAAAkB,EAAAc,SAAAlB,MAAH,gBAAAmB,GAAA,OAAAvB,EAAAwB,MAAAC,KAAAC,YAAA,GAoCpB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,MAAd,YACAH,EAAAC,EAAAC,cAACE,EAAA,EAAD,MAtBNJ,EAAAC,EAAAC,cAAA,QAAMG,SAAUjC,GACd4B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SACEI,KAAK,QACLH,UAAU,eACVI,MAAO7C,EACP8C,SAAU,SAAC9B,GAAD,OAAOf,EAASe,EAAE+B,OAAOF,QACnCG,WAAS,KAGbV,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQI,KAAK,SAASH,UAAU,6BAAhC","file":"static/js/7.cdc65e51.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nfunction Register() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    if(user && user.token) navigate(\"/\");\r\n  }, [user, navigate]);\r\n\r\n  const sumbmitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const config = {\r\n      url: \"http://localhost:3000/register/complete\",\r\n      handleCodeInApp: true,\r\n    };\r\n\r\n    await auth.sendSignInLinkToEmail(email, config);\r\n    toast.success(\r\n      `Email is sent to ${email}. click to the given to complete your registration. `\r\n    );\r\n\r\n    window.localStorage.setItem(\"emailForRegistration\", email);\r\n\r\n    setEmail(\"\");\r\n  };\r\n\r\n  const registerForm = () => (\r\n    <form onSubmit={sumbmitHandler}>\r\n      <div className=\"form-group\">\r\n        <input\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          autoFocus\r\n        />\r\n      </div>\r\n      <br />\r\n      <button type=\"submit\" className=\"btn btn-outline-secondary\">\r\n        Register\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container p-5  mt-5 relative\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-md-3\">\r\n          <h2 className=\"h2\" >Register</h2>\r\n          <ToastContainer />\r\n          {registerForm()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"sourceRoot":""}