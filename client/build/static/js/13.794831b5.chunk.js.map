{"version":3,"sources":["components/forms/Star.js","pages/Shop.js","components/cards/AllProductCard.js","functions/ratings.js"],"names":["Star","_ref","numberOfStars","starClick","react_default","a","createElement","Fragment","build_default","changeRating","starDimension","starSpacing","starRatedColor","starEmptyColor","Shop","_useState","useState","_useState2","Object","slicedToArray","products","setProducts","_useState3","_useState4","loading","setLoading","_useState5","_useState6","price","setPrice","_useState7","_useState8","ok","setOk","_useState9","_useState10","categories","setCategories","_useState11","_useState12","categoryIds","setCategoryIds","_useState13","_useState14","setStar","_useState15","_useState16","subs","setSubs","_useState17","_useState18","setSub","_useState19","_useState20","brand","setBrand","_useState21","_useState22","brands","_useState23","_useState24","color","setColor","_useState25","_useState26","colors","_useState27","_useState28","shipping","setShipping","dispatch","useDispatch","text","useSelector","state","objectSpread","search","useEffect","loadAllProducts","listCategories","then","res","data","listSubs","fetchProducts","arg","fetchProductsByFilter","getProductByCount","delayed","setTimeout","query","clearTimeout","handleCheck","e","type","payload","inTheState","toConsumableArray","justChecked","target","value","foundInTheState","indexOf","push","splice","category","handleStarClick","num","stars","handleSub","s","sub","handleBrand","handleColor","handleShipping","className","menu","defaultOpenKeys","mode","SubMenu","key","title","DollarOutlined","slider","tipFormatter","v","concat","range","onChange","max","DownSquareOutlined","map","c","_id","es_checkbox","name","checked","includes","StarOutlined","forms_Star","onClick","style","cursor","b","es_radio","length","p","AllProductCard","product","Meta","Card","C_Users_dharv_OneDrive_Desktop_mernconnection_EcommProject_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","tooltip","setTooltip","description","images","slug","react__WEBPACK_IMPORTED_MODULE_2___default","ratings","showAverage","antd__WEBPACK_IMPORTED_MODULE_6__","hoverable","cover","alt","src","url","laptop","height","objectFit","actions","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","to","_ant_design_icons__WEBPACK_IMPORTED_MODULE_8__","antd__WEBPACK_IMPORTED_MODULE_7__","quantity","cart","window","localStorage","getItem","JSON","parse","C_Users_dharv_OneDrive_Desktop_mernconnection_EcommProject_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","count","unique","_","uniqWith","isEqual","setItem","stringify","disabled","href","_ant_design_icons__WEBPACK_IMPORTED_MODULE_9__","substring","__webpack_require__","d","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_star_ratings__WEBPACK_IMPORTED_MODULE_1__","react_star_ratings__WEBPACK_IMPORTED_MODULE_1___default","ratingsArray","total","r","star","result","reduce","rating","editing"],"mappings":"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","file":"static/js/13.794831b5.chunk.js","sourcesContent":["import React from \"react\";\r\nimport StarRating from \"react-star-ratings\";\r\n\r\nconst Star = ({ numberOfStars, starClick }) => (\r\n  <>\r\n    <StarRating\r\n      numberOfStars={numberOfStars}\r\n      changeRating={() => starClick(numberOfStars)}\r\n      starDimension=\"20px\"\r\n      starSpacing=\"2px\"\r\n      starRatedColor=\"red\"\r\n      starEmptyColor=\"red\"\r\n    />\r\n    <br/>\r\n  </>\r\n);\r\n\r\nexport default Star;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { getProductByCount, fetchProductsByFilter } from \"../functions/product\";\r\nimport { listCategories } from \"../functions/category\";\r\nimport { listSubs } from \"../functions/sub\";\r\nimport AllProductCard from \"../components/cards/AllProductCard\";\r\n\r\nimport { Menu, Slider, Checkbox, Radio } from \"antd\";\r\nimport {\r\n  DollarOutlined,\r\n  DownSquareOutlined,\r\n  StarOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport Star from \"../components/forms/Star\";\r\n\r\nfunction Shop() {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [price, setPrice] = useState([0, 0]);\r\n  const [ok, setOk] = useState(false);\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [categoryIds, setCategoryIds] = useState([]);\r\n\r\n  const [star, setStar] = useState(\"\");\r\n\r\n  const [subs, setSubs] = useState([]);\r\n  const [sub, setSub] = useState(\"\");\r\n\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [brands, setBrands] = useState([\r\n    \"Apple\",\r\n    \"HP\",\r\n    \"Lenovo\",\r\n    \"ASUS\",\r\n    \"SONY\",\r\n    \"Toshiba\",\r\n    \"Acer\",\r\n    \"Microsoft\",\r\n    \"Chromebook\",\r\n    \"Samsung\",\r\n    \"MSI\",\r\n    \"Razer\",\r\n    \"Motorola\",\r\n    \"Google\",\r\n  ]);\r\n\r\n  const [color, setColor] = useState(\"\");\r\n  const [colors, setColors] = useState([\r\n    \"Black\",\r\n    \"Silver\",\r\n    \"White\",\r\n    \"Space Gray\",\r\n    \"Blue\",\r\n  ]);\r\n\r\n  const [shipping, setShipping] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { search } = useSelector((state) => ({ ...state }));\r\n  const { text } = search;\r\n\r\n  useEffect(() => {\r\n    loadAllProducts();\r\n    //fetch all categories\r\n    listCategories().then((res) => setCategories(res.data));\r\n    //fetch all subs\r\n    listSubs().then((res) => setSubs(res.data));\r\n  }, []);\r\n\r\n  const fetchProducts = (arg) => {\r\n    fetchProductsByFilter(arg).then((res) => {\r\n      setProducts(res.data);\r\n    });\r\n  };\r\n\r\n  //1. load products by default////////\r\n  const loadAllProducts = () => {\r\n    setLoading(true);\r\n    getProductByCount(12).then((res) => {\r\n      setProducts(res.data);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  //2. load products on user search\r\n  useEffect(() => {\r\n    const delayed = setTimeout(() => {\r\n      fetchProducts({ query: text });\r\n      if(!text){\r\n        loadAllProducts();\r\n      }\r\n    }, 300);\r\n    return () => clearTimeout(delayed);\r\n  }, [text]);\r\n\r\n  //3. load products based on price/////\r\n  useEffect(() => {\r\n    fetchProducts({ price });\r\n  }, [ok]);\r\n\r\n  const handleSlider = (value) => {\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n\r\n    //reset\r\n    setCategoryIds([]);\r\n    setPrice(value);\r\n    setStar(\"\");\r\n    setSub(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n\r\n    setTimeout(() => {\r\n      setOk(!ok);\r\n    }, 300);\r\n  };\r\n\r\n  //4. load product based on categories\r\n  const showCategories = () =>\r\n    categories.map((c) => (\r\n      <div key={c._id}>\r\n        <Checkbox\r\n          className=\"p-3\"\r\n          name=\"category\"\r\n          value={c._id}\r\n          onChange={handleCheck}\r\n          checked={categoryIds.includes(c._id)}\r\n        >\r\n          {c.name}\r\n        </Checkbox>\r\n      </div>\r\n    ));\r\n\r\n  //handle check for category\r\n  const handleCheck = (e) => {\r\n    // console.log(e.target.value);\r\n\r\n    //reset\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setStar(\"\");\r\n    setSub(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n\r\n    let inTheState = [...categoryIds];\r\n    let justChecked = e.target.value;\r\n    let foundInTheState = inTheState.indexOf(justChecked); //if index found it return index,,if not found that means it's not already checked add it in the array\r\n\r\n    if (foundInTheState === -1) {\r\n      inTheState.push(justChecked);\r\n    } else {\r\n      inTheState.splice(foundInTheState, 1); //if found then pull out one item from state array\r\n    }\r\n\r\n    setCategoryIds(inTheState);\r\n    // console.log(inTheState);\r\n    fetchProducts({ category: inTheState });\r\n  };\r\n\r\n  //5. load product based on star ratings\r\n  const handleStarClick = (num) => {\r\n    // console.log(num);\r\n    //reset\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setSub(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n\r\n    setStar(num);\r\n\r\n    fetchProducts({ stars: num });\r\n  };\r\n\r\n  const showStars = () => (\r\n    <div className=\"p-3\">\r\n      <Star starClick={handleStarClick} numberOfStars={5} />\r\n      <Star starClick={handleStarClick} numberOfStars={4} />\r\n      <Star starClick={handleStarClick} numberOfStars={3} />\r\n      <Star starClick={handleStarClick} numberOfStars={2} />\r\n      <Star starClick={handleStarClick} numberOfStars={1} />\r\n    </div>\r\n  );\r\n\r\n  //6. load product based on sub category\r\n  const showSubs = () =>\r\n    subs.map((s) => (\r\n      <div\r\n        key={s._id}\r\n        onClick={() => handleSub(s)}\r\n        className=\"p-2 m-1 badge bg-info text-dark\"\r\n        style={{ cursor: \"pointer\" }}\r\n      >\r\n        {s.name}\r\n      </div>\r\n    ));\r\n\r\n  const handleSub = (s) => {\r\n    setSub(s);\r\n\r\n    //reset\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setStar(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n\r\n    fetchProducts({ sub: s });\r\n  };\r\n\r\n  //7. load product based on brand\r\n  const showBrands = () =>\r\n    brands.map((b) => (\r\n      <div key={b} className=\"p-3\">\r\n        <Radio value={b} name={b} onChange={handleBrand} checked={b === brand}>\r\n          {b}\r\n        </Radio>\r\n      </div>\r\n    ));\r\n\r\n  const handleBrand = (e) => {\r\n    ///reset\r\n    setSub(\"\");\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setStar(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n\r\n    setBrand(e.target.value);\r\n\r\n    fetchProducts({ brand: e.target.value });\r\n  };\r\n\r\n  //8. load product based on color\r\n  const showColors = () =>\r\n    colors.map((c) => (\r\n      <div key={c} className=\"p-3\">\r\n        <Radio value={c} name={c} onChange={handleColor} checked={c === color}>\r\n          {c}\r\n        </Radio>\r\n      </div>\r\n    ));\r\n\r\n  const handleColor = (e) => {\r\n    ///reset\r\n    setSub(\"\");\r\n    setBrand(\"\");\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setStar(\"\");\r\n    setShipping(\"\");\r\n\r\n    setColor(e.target.value);\r\n\r\n    fetchProducts({ color: e.target.value });\r\n  };\r\n\r\n  //9/ load product based on shipping\r\n  const showShipping = () => (\r\n    <div>\r\n      <Checkbox\r\n        className=\"p-3\"\r\n        value=\"Yes\"\r\n        onChange={handleShipping}\r\n        checked={shipping === \"Yes\"}\r\n      >\r\n        Yes\r\n      </Checkbox>\r\n\r\n      <Checkbox\r\n        className=\"p-3\"\r\n        value=\"No\"\r\n        onChange={handleShipping}\r\n        checked={shipping === \"No\"}\r\n      >\r\n        No\r\n      </Checkbox>\r\n    </div>\r\n  );\r\n\r\n  const handleShipping = (e) => {\r\n    ///reset\r\n    setSub(\"\");\r\n    setBrand(\"\");\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setStar(\"\");\r\n    setColor(\"\");\r\n\r\n    setShipping(e.target.value);\r\n\r\n    fetchProducts({ shipping: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid  mt-5 relative\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-3\">\r\n          <h4 className=\" text-center text-white p-3 mt-5 mb-5 display-5 jumbotron bgColor\">\r\n            Search/Filter\r\n          </h4>\r\n          <hr />\r\n\r\n          <Menu defaultOpenKeys={[\"1\", \"2\", \"3\", \"4\", \"7\", \"8\"]} mode=\"inline\">\r\n            {/* price */}\r\n            <Menu.SubMenu\r\n              key=\"1\"\r\n              title={\r\n                <span className=\"h5\">\r\n                  <DollarOutlined className=\"mr-4\" /> Price\r\n                </span>\r\n              }\r\n            >\r\n              <div>\r\n                <Slider\r\n                  className=\"ml-4 mr-4\"\r\n                  tipFormatter={(v) => `$${v}`}\r\n                  range\r\n                  value={price}\r\n                  onChange={handleSlider}\r\n                  max=\"9999\"\r\n                />\r\n              </div>\r\n            </Menu.SubMenu>\r\n\r\n            {/* category */}\r\n            <Menu.SubMenu\r\n              key=\"2\"\r\n              title={\r\n                <span className=\"h5\">\r\n                  <DownSquareOutlined className=\"mr-4\" /> Categories\r\n                </span>\r\n              }\r\n            >\r\n              <div>{showCategories()}</div>\r\n            </Menu.SubMenu>\r\n\r\n            {/* ratings */}\r\n            <Menu.SubMenu\r\n              key=\"3\"\r\n              title={\r\n                <span className=\"h5\">\r\n                  <StarOutlined className=\"mr-4\" /> Rating\r\n                </span>\r\n              }\r\n            >\r\n              <div>{showStars()}</div>\r\n            </Menu.SubMenu>\r\n\r\n            {/* sub categories */}\r\n            <Menu.SubMenu\r\n              key=\"4\"\r\n              title={\r\n                <span className=\"h5\">\r\n                  <DownSquareOutlined className=\"mr-4\" /> Sub Categories\r\n                </span>\r\n              }\r\n            >\r\n              <div className=\"p-3\">{showSubs()}</div>\r\n            </Menu.SubMenu>\r\n\r\n            {/* brand */}\r\n            <Menu.SubMenu\r\n              key=\"5\"\r\n              title={\r\n                <span className=\"h5\">\r\n                  <DownSquareOutlined className=\"mr-4\" /> Brand\r\n                </span>\r\n              }\r\n            >\r\n              <div className=\"pr-5 pl-5\">{showBrands()}</div>\r\n            </Menu.SubMenu>\r\n\r\n            {/* color */}\r\n            <Menu.SubMenu\r\n              key=\"7\"\r\n              title={\r\n                <span className=\"h5\">\r\n                  <DownSquareOutlined className=\"mr-4\" /> Color\r\n                </span>\r\n              }\r\n            >\r\n              <div className=\"pr-5 pl-5\">{showColors()}</div>\r\n            </Menu.SubMenu>\r\n\r\n            {/* shipping */}\r\n            <Menu.SubMenu\r\n              key=\"8\"\r\n              title={\r\n                <span className=\"h5\">\r\n                  <DownSquareOutlined className=\"mr-4\" /> Shipping\r\n                </span>\r\n              }\r\n            >\r\n              <div className=\"pr-5 pl-5\">{showShipping()}</div>\r\n            </Menu.SubMenu>\r\n          </Menu>\r\n        </div>\r\n\r\n        <div className=\"col-md-9\">\r\n          {loading ? (\r\n            <h2 className=\"text-danger \">Loading...</h2>\r\n          ) : (\r\n            <h2 className=\" text-center text-white p-3 mt-5 mb-5 display-5 jumbotron bgColor\">\r\n              Products\r\n            </h2>\r\n          )}\r\n\r\n          {products.length < 1 && <h4>No Products Found</h4>}\r\n\r\n          <div className=\"row\">\r\n            {products.map((p) => (\r\n              <div key={p._id} className=\"col-md-4 mb-4\">\r\n                <AllProductCard product={p} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Shop;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport laptop from \"../../images/laptop.jpg\";\r\nimport { showAverage } from \"../../functions/ratings\";\r\n\r\nimport { Card, Tooltip } from \"antd\";\r\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nconst { Meta } = Card;\r\n\r\nfunction AllProductCard({ product }) {\r\n  const [tooltip, setTooltip] = useState(\"Click To Add\");\r\n  const { title, description, images, slug, price } = product;\r\n\r\n  let dispatch = useDispatch();\r\n  // const { user, cart } = useSelector((state) => ({ ...state }));\r\n\r\n  const handleAddToCart = () => {\r\n    //create cart array\r\n    let cart = [];\r\n\r\n    if (typeof window !== \"undefined\") {\r\n      //if cart in localstorage get it\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      //push new product to cart\r\n      cart.push({\r\n        ...product,\r\n        count: 1,\r\n      });\r\n\r\n      //remove duplicates\r\n      let unique = _.uniqWith(cart, _.isEqual);\r\n\r\n      //save to local storage\r\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n\r\n      setTooltip(\"Added\");\r\n\r\n      //add to redux\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: unique,\r\n      });\r\n\r\n      //show item in cart drawer\r\n      dispatch({\r\n        type: \"SET_VISIBLE\",\r\n        payload: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {product && product.ratings && product.ratings.length > 0 ? (\r\n        showAverage(product)\r\n      ) : (\r\n        <div className=\"text-center pb-3 \">\"No Ratings Yet!\"</div>\r\n      )}\r\n      <Card\r\n        hoverable\r\n        cover={\r\n          <img\r\n            alt=\"\"\r\n            src={images && images.length ? images[0].url : laptop}\r\n            style={{ height: \"150px\", objectFit: \"cover\" }}\r\n            className=\"p-2\"\r\n          />\r\n        }\r\n        actions={[\r\n          <Link to={`/product/${slug}`}>\r\n            <EyeOutlined className=\"text-success\" />\r\n            <br />\r\n            View Product\r\n          </Link>,\r\n\r\n          <Tooltip title={product.quantity > 1 && tooltip}>\r\n            <a onClick={handleAddToCart} disabled={product.quantity < 1} href=\"\" >\r\n              <ShoppingCartOutlined className=\"text-danger\" />\r\n              <br />\r\n              {product.quantity < 1 ? \"Out Of Stock\" : \"Add to Cart\"}\r\n            </a>\r\n          </Tooltip>,\r\n        ]}\r\n      >\r\n        <Meta\r\n          title={`${title} - $${price}`}\r\n          description={`${description && description.substring(0, 30)}...`}\r\n        />\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AllProductCard;\r\n","import React from \"react\";\r\nimport StarRating from \"react-star-ratings\";\r\n\r\nexport const showAverage = (p) => {\r\n  if (p && p.ratings) {\r\n    let ratingsArray = p.ratings;\r\n    let total = [];\r\n    let length = ratingsArray.length;\r\n    // console.log(\"length\", length);\r\n\r\n    ratingsArray.map((r) => total.push(r.star));\r\n    let totalReduced = total.reduce((p, n) => p + n, 0);\r\n    //console.log(\"total\", totalReduced);\r\n\r\n    let highest = length * 5;\r\n    //console.log(\"highest star\", highest);\r\n\r\n    let result = (totalReduced * 5) / highest;\r\n    //console.log(\"result\", result);\r\n\r\n    return (\r\n      <div className=\"text-center pb-3 \">\r\n        <span>\r\n          <StarRating\r\n            starDimension=\"20px\"\r\n            starSpacing=\"2px\"\r\n            rating={result}\r\n            starRatedColor=\"red\"\r\n            editing = {false}\r\n          />{\" \"}\r\n          ({length})\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n"],"sourceRoot":""}